<!DOCTYPE html>

<head>
    <title>CPU simulator</title>
    <meta charset="UTF-8">
    <script src="cannedPrograms.js"></script>
    <script src="panelManagement.js" defer></script>
    <script src="simplecomputer.js" defer></script>
    <script src="tools.js" defer></script>
    <script src="helpPanel.js" defer></script>
    <script src="asmPanel.js" defer></script>
    <script src="mainProgram.js" defer></script>

    <link rel="stylesheet" type="text/css" href="styling.css">
</head>

<body onload="setup()">
    <h1>Simple CPU Emulator</h1>
    <div id="windows">
        <form>
            <input type="checkbox" id="sim" value="Simulator" onchange="adjustVisibility('sim','cpucontainer')" checked>Display Simulator Window
            <input type="checkbox" id="asm" value="AssemblerWindow" onchange="adjustVisibility('asm','disassemblywindow')">Display Assembler Window
            <input type="checkbox" id="is" value="InstructionSet" onchange="adjustVisibility('is','instructionSet')">Display InstructionSet
        </form>
        <label>Load Program</label>
        <select id="memSelection" onchange="loadMem()">
            <option value="none">---None Selected---</option>

        </select>
    </div>
    <div id="cpucontainer" class="cpucontainer">
        <canvas id="underlay" width="600" height="400" class="canvasunderlay"></canvas>
        <div id="iocontainer" class="io">
            <div>
                <label>Input</label>
                <input id="input" type="number">
            </div>
            <div>
                <label>output</label>
                <label id="output"></label>
            </div>
        </div>

        <div id="registers" class="registers">
            <label>Current State:</label>
            <label id="state"></label>
            <br>
            <label>Registers</label>
            <br>
            <label class="reg">PC:</label>
            <label id="pc" class="regValue"></label>
            <br>
            <label class="reg">IR:</label>
            <label id="ir" class="regValue"></label>
            <br>
            <label class="reg">ACC:</label>
            <label id="acc" class="regValue"></label>
            <br>
            <label class="error" id="error"></label>
        </div>
        <div id="memcontainer" class="memory">


            <div id="memory">
            </div>
            <input id="binaryOption" class="option" type="checkbox" onchange="updateMem()">
            <label>Binary</label>
        </div>

    </div>
    <div id="controls" class="controls">
        <input type="button" value="Execute Next Instruction" onclick="nextInstruction()">
        <input type="button" value="Reset Computer" onclick="resetComputer()">
        <input type="button" value="Execute Program" onclick="executeProgram()">
        <input type="button" value="Clear Memory" onclick="clearMem()">
    </div>
    <div id="disassemblywindow" style="visibility : hidden; height : 0px; width : 0px">
        <input type="button" class="disassembleButton" value="dissassemble">
        <input type="button" class="assembleButton" value="assemble">
        <label>Load Program</label>
        <select id="asmSelection">
            <option value="none">---None Selected---</option>
        </select>
        <br>
        <textarea id="codeWindow" rows="32" cols="80" class="code"></textarea>
        <div id="log"></div>

    </div>
    <div id="instructionSet" class="infowindow" style="visibility : hidden;">
    </div>

</body>
